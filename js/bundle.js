!function(){"use strict";const e={select:(e,t=null)=>document.querySelector(e)||t,selectAll:e=>Array.from(document.querySelectorAll(e)),selectByData(e,t=null){const o=t?`[data-${e}="${t}"]`:`[data-${e}]`;return this.selectAll(o)},closest:(e,t,o=null)=>e?.closest(t)||o,isVisible(e){if(!e)return!1;const t=e.getBoundingClientRect();return t.width>0&&t.height>0}},t={on:(e,t,o,n={})=>e?(e.addEventListener(t,o,n),{element:e,event:t,handler:o}):null,onAll(e,t,o,n={}){return e.map(e=>this.on(e,t,o,n)).filter(Boolean)},delegate(e,t,o,n){return this.on(e,o,o=>{const i=o.target.closest(t);i&&e.contains(i)&&n.call(i,o)})},once(e,t,o){return this.on(e,t,o,{once:!0})},debounce(e,t){let o;return function(...n){clearTimeout(o),o=setTimeout(()=>{clearTimeout(o),e(...n)},t)}}},o={toggle:(e,t,o=void 0)=>!!e&&e.classList.toggle(t,o),add(e,...t){e&&e.classList.add(...t)},remove(e,...t){e&&e.classList.remove(...t)},toggleAll(e,t,o=void 0){return e.map(e=>this.toggle(e,t,o))},addAll(e,...t){e.forEach(e=>this.add(e,...t))},removeAll(e,...t){e.forEach(e=>this.remove(e,...t))},replace(e,t,o){e&&(this.remove(e,t),this.add(e,o))}},n={fadeIn(e,t="fade-in"){e&&o.add(e,t)},fadeOut(e,t="fade-in"){e&&o.remove(e,t)},toggleVisibility(e,t){e&&(t?(e.style.display="block",e.style.opacity="1",e.style.maxHeight="1000px"):(e.style.display="none",e.style.opacity="0",e.style.maxHeight="0"))},scrollTo(e,t=-80,o="smooth"){if(!e)return;const n=e.getBoundingClientRect().top+window.pageYOffset+t;window.scrollTo({top:n,behavior:o})}},i={isTouchDevice:()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,getInteractionEvent(){return this.isTouchDevice()?"click":"hover"},initTouchSupport(){this.isTouchDevice()?o.add(document.body,"touch-device"):o.add(document.body,"no-touch-device")}},a={ready(e){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()},readyAll(e){this.ready(()=>{e.forEach(e=>{try{e()}catch(e){console.error("Ready callback error:",e)}})})}};const updateHeaderHeight=()=>{const e=document.querySelector("[data-el-site-header]");if(!e)return;const t=e.offsetHeight;document.documentElement.style.setProperty("--header-height",`${t}px`)};function showPopup$1(t){e.selectAll(".locations-map__popup").forEach(e=>{e.style.display="none",n.fadeOut(e)});const o=t.querySelector(".locations-map__popup");o&&(CSS.supports("position","anchor")?(o.style.position="anchor",t.style.anchorName="--popup-anchor"):(o.style.display="block",o.style.position="absolute",o.style.top="100%",o.style.left="50%",o.style.transform="translateX(-50%)"),n.fadeIn(o))}function hideAllPopups$1(){e.selectAll(".locations-map__popup").forEach(e=>{e.style.display="none",n.fadeOut(e)})}function showPopup(t){e.selectAll(".interactive-image__popup").forEach(e=>{e.style.display="none",n.fadeOut(e)});const o=t.querySelector(".interactive-image__popup");if(o){const e=t.closest(".interactive-image__container").getBoundingClientRect(),i=t.getBoundingClientRect(),a=i.left+i.width/2-e.left,s=e.width;o.className="interactive-image__popup";const l=window.innerWidth<=768?200:220,r=20;let c="";c=a<l/2+r?"interactive-image__popup--left-aligned":a>s-l/2-r?"interactive-image__popup--right-aligned":"interactive-image__popup--center-aligned",o.classList.add(c),o.style.display="block",n.fadeIn(o)}}function hideAllPopups(){e.selectAll(".interactive-image__popup").forEach(e=>{e.style.display="none",n.fadeOut(e)})}a.ready(()=>{document.querySelectorAll("[data-clickable-url]").forEach(function(e){const t=e.getAttribute("data-clickable-url");if(t){const o=e.querySelector('[href="'+t+'"]');o&&e.addEventListener("click",function(){o.click()})}}),document.querySelector(".overlay")&&document.querySelector(".overlay").classList.add("fade-in"),window.addEventListener("message",function(e){for(var t=document.getElementsByTagName("iframe"),o=0;o<t.length;o++)if(t[o].contentWindow===e.source){t[o].style.height=e.data+"px";break}}),function(){let e=!1;const onResize=()=>{e||(e=!0,window.requestAnimationFrame(()=>{updateHeaderHeight(),e=!1}))};window.addEventListener("DOMContentLoaded",()=>{updateHeaderHeight(),document.body.classList.add("has-sticky-header"),window.addEventListener("resize",onResize)})}()}),a.ready(function(){document.querySelectorAll(".swiper-image").forEach(e=>{new Swiper(e,{loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next-image",prevEl:".swiper-button-prev-image"},pagination:{el:".swiper-pagination",clickable:!0},speed:600,on:{slideChangeTransitionStart:function(){this.slides.forEach(e=>{e.querySelectorAll(".animate__animated:not(.value)").forEach(e=>{e.style.opacity="0",e.classList.remove("animate__fadeInUp","animate__fadeInDown","animate__fadeInLeft","animate__fadeInRight")})})},slideChangeTransitionEnd:function(){const e=this.slides[this.activeIndex];if(e){e.querySelectorAll(".animate__animated:not(.value)").forEach((e,t)=>{setTimeout(()=>{e.style.opacity="1",e.classList.add("animate__fadeInDown")},200*t)})}},init:function(){setTimeout(()=>{const e=this.slides[this.activeIndex];if(e){e.querySelectorAll(".animate__animated:not(.value)").forEach((e,t)=>{setTimeout(()=>{e.style.opacity="1",e.classList.add("animate__fadeInDown")},200*t)})}},300)}}})}),document.querySelectorAll(".swiper-dual-carousel").forEach(e=>{const t=e.querySelector(".swiper-dual-carousel-text"),o=e.querySelector(".swiper-dual-carousel-image");if(!t||!o)return;t.querySelectorAll(".animate__animated:not(.value)").forEach(e=>{e.style.opacity="0"});const n=new Swiper(t,{loop:!0,effect:"fade",fadeEffect:{crossFade:!0},speed:1e3,navigation:{nextEl:".swiper-button-next-dual-carousel",prevEl:".swiper-button-prev-dual-carousel"},on:{slideChangeTransitionStart:function(){this.slides.forEach((e,t)=>{if(t!==this.activeIndex){e.querySelectorAll(".animate__animated:not(.value)").forEach(e=>{e.style.opacity="0",e.classList.remove("animate__fadeInUp","animate__fadeInDown","animate__fadeInLeft","animate__fadeInRight")})}});const e=this.slides[this.activeIndex];if(e){e.querySelectorAll(".animate__animated:not(.value)").forEach((e,t)=>{setTimeout(()=>{e.style.opacity="1",e.classList.add("animate__fadeInDown")},200*t)})}},slideChangeTransitionEnd:function(){},init:function(){const e=this.slides[this.activeIndex];if(e){e.querySelectorAll(".animate__animated:not(.value)").forEach((e,t)=>{setTimeout(()=>{e.style.opacity="1",e.classList.add("animate__fadeInDown")},100+200*t)})}}}}),i=new Swiper(o,{loop:!0,spaceBetween:10});n.controller.control=i,i.controller.control=n}),document.querySelectorAll(".multi-item-carousel").forEach(e=>{const t=e.querySelectorAll(".swiper-slide").length;new Swiper(e,{loop:!1,slidesPerView:2,spaceBetween:20,navigation:{nextEl:".multi-swiper-button-next",prevEl:".multi-swiper-button-prev"},scrollbar:{el:".multi-swiper-scrollbar",hide:!1,draggable:!1},breakpoints:{0:{slidesPerView:1},640:{slidesPerView:Math.max(2,Math.min(2,t))},1024:{slidesPerView:Math.max(2,Math.min(2,t))}}})}),document.querySelectorAll(".swiper-split").forEach(e=>{new Swiper(e,{speed:800,loop:!0,navigation:{nextEl:".split-swiper-button-next",prevEl:".split-swiper-button-prev"},pagination:{el:".split-swiper-pagination",clickable:!0}})}),document.querySelectorAll(".calendar-carousel").forEach(e=>{new Swiper(e,{slidesPerView:1,spaceBetween:20,navigation:{nextEl:".calendar-swiper-button-next",prevEl:".calendar-swiper-button-prev"},breakpoints:{768:{slidesPerView:2},1024:{slidesPerView:3}}})}),document.querySelectorAll(".step-slider .swiper").forEach(e=>{new Swiper(e,{slidesPerView:1,spaceBetween:30,navigation:{nextEl:".step-swiper-button-next",prevEl:".step-swiper-button-prev"},pagination:{el:".step-swiper-pagination",clickable:!0}})})}),a.ready(function(){const n=e.selectAll(".tab"),i=e.selectAll(".tab-content");t.onAll(n,"click",function(){o.removeAll(n,"active"),o.removeAll(i,"active"),o.add(this,"active"),o.add(e.select(`#${this.dataset.tab}`),"active")})}),a.ready(function(){e.selectAll(".locations-map__location").forEach(e=>{const o=e.querySelector(".locations-map__popup");o&&(i.isTouchDevice()?t.on(e,"click",t=>{t.stopPropagation(),showPopup$1(e)}):(t.on(e,"mouseenter",()=>showPopup$1(e)),t.on(e,"mouseleave",hideAllPopups$1)),t.on(o,"click",e=>e.stopPropagation()))}),t.on(document,"click",e=>{e.target.closest(".locations-map__location")||hideAllPopups$1()})}),a.ready(function(){e.selectAll(".interactive-image__point").forEach(e=>{const o=e.querySelector(".interactive-image__popup");o&&(i.isTouchDevice()?t.on(e,"click",t=>{t.stopPropagation(),showPopup(e)}):(t.on(e,"mouseenter",()=>showPopup(e)),t.on(e,"mouseleave",hideAllPopups)),t.on(o,"click",e=>e.stopPropagation()))}),t.on(document,"click",e=>{e.target.closest(".interactive-image__point")||hideAllPopups()})}),a.ready(function(){const t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){e.target.querySelectorAll(".value").forEach(e=>{if(e.dataset.animated)return;const t=e.dataset.prefix||"",o=e.dataset.suffix||"",n=parseInt(e.dataset.duration)||1100,i=parseInt(e.dataset.decimals)||0;!function(e,t,o,n,i,a,s){let l=null;const step=r=>{l||(l=r);const c=Math.min((r-l)/n,1);let d=(c*(o-t)+t).toFixed(s);s>0&&!a.includes("%")&&(d=d.replace(/\.?0+$/,"")),e.innerHTML=(i||"")+d+(a||""),c<1&&window.requestAnimationFrame(step)};window.requestAnimationFrame(step)}(e,0,parseFloat(e.dataset.to)||0,n,t,o,i),e.dataset.animated="true"})}else{e.target.querySelectorAll(".value").forEach(t=>{e.intersectionRatio<=0&&t.removeAttribute("data-animated")})}})},{threshold:[0,.5]}),o=e.select(".data-points-items");o&&t.observe(o)}),a.ready(function(){const e=document.querySelectorAll('[data-component="file-list"]');e.length>0&&e.forEach(function(e){const t=e.querySelector("#filter-toggle"),o=e.querySelector("#filter-options"),n=Array.from(e.querySelectorAll(".filter-options__checkbox")),i=e.querySelector("#file-list-show-all"),a=Array.from(e.querySelectorAll(".file-list__item")),toggleDropdown=e=>{o.classList.toggle("hidden",!e),t.classList.toggle("open",e)};o.addEventListener("keydown",function(e){if(40===e.keyCode){e.preventDefault();let t=n.findIndex(e=>e===document.activeElement);-1===t||t===n.length-1?n[0].focus():n[t+1].focus()}else if(38===e.keyCode){e.preventDefault();let t=n.findIndex(e=>e===document.activeElement);t<=0?n[n.length-1].focus():n[t-1].focus()}else 27===e.keyCode?(e.preventDefault(),toggleDropdown(!1),t.focus()):9===e.keyCode&&setTimeout(()=>{o.contains(document.activeElement)||toggleDropdown(!1)},0)});const getActiveFilters=()=>{const e={};return n.forEach(t=>{const o=t.dataset.filter;t.checked&&(e[o]||(e[o]=[]),e[o].push(t.value))}),e},filterFiles=()=>{const t=e.querySelector("tbody");t.style.transition="opacity 0.5s",t.style.opacity=0,setTimeout(()=>{const e=getActiveFilters();a.forEach(t=>{let o=!0;for(const n in e){const i=(t.dataset[n]||"").split(",").map(e=>e.trim()).filter(e=>""!==e),a=e[n].filter(e=>i.includes(e));if(e[n].length&&0===a.length){o=!1;break}}o?t.classList.remove("filtered"):t.classList.add("filtered")}),updateShowAllVisibility(),t.style.opacity=1},200)},updateURL=()=>{const e=getActiveFilters(),t=new URLSearchParams;for(const o in e)t.set(o,e[o].join(","));let o=t.toString().replace(/%2C/gi,",");const n=window.location.pathname+(o?"?"+o:"");window.history.replaceState({},"",n)},updateShowAllVisibility=()=>{const t=n.filter(e=>e.checked).length;i&&i.classList.toggle("hidden",0===t),e.classList.toggle("filtered",t>0)};t&&t.addEventListener("click",e=>{e.stopPropagation();const t=o.classList.contains("hidden");toggleDropdown(t),t&&n.length>0&&n[0].focus()}),n.forEach(e=>{e.addEventListener("change",()=>{updateURL(),filterFiles()})}),i.addEventListener("click",()=>{n.forEach(e=>e.checked=!1),toggleDropdown(!1),updateURL(),filterFiles()}),document.addEventListener("click",t=>{e.contains(t.target)||toggleDropdown(!1)}),(()=>{const e=new URLSearchParams(window.location.search);n.forEach(t=>{const o=t.dataset.filter,n=e.get(o);if(n){n.split(",").map(e=>e.trim()).filter(e=>""!==e).includes(t.value)&&(t.checked=!0)}}),filterFiles()})()})}),a.ready(function(){const e=document.querySelectorAll('[data-component="section-list"]');e.length>0&&e.forEach(function(e){const t=e.querySelector("#filter-toggle"),o=e.querySelector("#filter-options"),n=[...e.querySelectorAll(".filter-options__checkbox")],i=e.querySelector("#section-list-show-all"),a=[...e.querySelectorAll(".section-list__item")],toggleDropdown=e=>{o.classList.toggle("hidden",!e),t.classList.toggle("open",e)},updateShowAllVisibility=()=>{const e=n.filter(e=>e.checked).length;i&&i.classList.toggle("hidden",0===e||e===n.length)},filterSections=()=>{const e=a.length>0?a[0].parentNode:null;e&&(e.style.transition="opacity 0.5s",e.style.opacity=0,setTimeout(()=>{const t=n.filter(e=>e.checked).map(e=>e.value);a.forEach(e=>{e.style.display=0===t.length||t.includes(e.dataset.galleryLabel)?"block":"none"}),updateShowAllVisibility(),e.style.opacity=1},200))},resetFilters=()=>{a.forEach(e=>e.style.display="block"),n.forEach(e=>e.checked=!1),toggleDropdown(!1),updateShowAllVisibility()};t&&t.addEventListener("click",e=>{e.stopPropagation(),toggleDropdown(o.classList.contains("hidden"))}),n.forEach(e=>e.addEventListener("change",filterSections)),i&&i.addEventListener("click",resetFilters);const s=e.querySelector(".file-list__dropdown");document.addEventListener("click",e=>{s.contains(e.target)||toggleDropdown(!1)}),updateShowAllVisibility()})}),a.ready(function(){const e=document.querySelector('[data-modal="video"]'),t=document.querySelector("[data-video-iframe]"),o=document.querySelector("[data-video-close]"),n=document.querySelectorAll('[data-modal-trigger="video"]'),i=document.getElementById("page");let a=null;function openOverlay(n){const s=function(e){try{const t=new URL(e);return new URLSearchParams(t.search).get("v")}catch(t){return console.error("Invalid YouTube URL:",e),null}}(n);s&&(a=document.activeElement,t.src=`https://www.youtube.com/embed/${s}?autoplay=1`,e.classList.add("is-visible"),e.setAttribute("aria-hidden","false"),i?.setAttribute("aria-hidden","true"),document.body.classList.add("modal-open"),o?.focus())}function closeOverlay(){e.classList.remove("is-visible"),e.setAttribute("aria-hidden","true"),t.src="",i?.removeAttribute("aria-hidden"),document.body.classList.remove("modal-open"),a&&a.focus()}n.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();openOverlay(this.dataset.videoUrl)})}),e?.addEventListener("click",function(t){t.target===e&&closeOverlay()}),document.addEventListener("keydown",function(t){"Escape"===t.key&&e.classList.contains("is-visible")&&closeOverlay()}),o?.addEventListener("click",closeOverlay)}),a.ready(function(){const e=document.querySelectorAll(".accordion-header");e.forEach(t=>{t.addEventListener("click",function(){const t=this.nextElementSibling,o=this.querySelector(".toggle-icon");if(e.forEach(e=>{if(e!==this){const t=e.nextElementSibling,o=e.querySelector(".toggle-icon");t.style.display="none",t.style.opacity="0",t.style.maxHeight="0",o.textContent="+",e.classList.remove("open")}}),"block"===t.style.display)t.style.display="none",t.style.opacity="0",t.style.maxHeight="0",o.textContent="+",this.classList.remove("open");else{t.style.display="block",t.style.opacity="1",t.style.maxHeight="1000px",o.textContent="-",this.classList.add("open");this.closest(".accordion").scrollIntoView({behavior:"smooth",block:"start"})}})});const t=window.location.hash;if(t){const e=document.querySelector(t);if(e&&e.classList.contains("accordion-item")){const t=e.querySelector(".accordion-header");t&&(t.click(),e.scrollIntoView({behavior:"smooth",block:"start"}),history.replaceState(null,document.title,window.location.pathname+window.location.search))}}}),a.ready(function(){const e=document.querySelector("#menu-utility"),t=e?.querySelector('a[href="/search"]');if(!e||!t)return;const o=t.parentElement;o?.classList.add("menu-item-has-children"),t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-controls","utility-search-form");const n=document.createElement("div");n.className="utility-search",n.id="utility-search-form",n.setAttribute("hidden",""),n.innerHTML='\n    <form role="search" aria-label="Site search form" action="/">\n      <input type="text" name="s" placeholder="Search..." aria-label="Search input" required />\n      <button type="submit" class="btn outline white">Go</button>\n      <button type="button" class="btn outline white" aria-label="Close search form">✕</button>\n    </form>\n  ',e.after(n);const i=n.querySelector("form"),a=i.querySelector('input[type="text"]'),s=i.querySelector('button[type="button"]'),l=t.closest("li")?.nextElementSibling?.querySelector("a"),openSearch=(e=!1)=>{n.removeAttribute("hidden"),n.classList.add("is-visible"),t.setAttribute("aria-expanded","true"),e&&a&&setTimeout(()=>{a.focus()},100)};a?.addEventListener("input",e=>{e.preventDefault(),window.scrollTo(window.scrollX,window.scrollY)}),a?.addEventListener("keydown",e=>{const t=window.scrollY;setTimeout(()=>{window.scrollTo(window.scrollX,t)},0)});const closeSearch=()=>{n.classList.remove("is-visible"),n.setAttribute("hidden",""),t.setAttribute("aria-expanded","false")};n.addEventListener("transitionend",e=>{e.target===n&&updateHeaderHeight()}),t.addEventListener("click",e=>{e.preventDefault(),n.hasAttribute("hidden")?openSearch():closeSearch()}),t.addEventListener("keydown",e=>{if(["Enter"," "].includes(e.key)){e.preventDefault();n.hasAttribute("hidden")?openSearch(!0):closeSearch()}}),window.addEventListener("keydown",e=>{"Escape"===e.key&&n.classList.contains("is-visible")&&(e.preventDefault(),closeSearch(),t.focus())}),s?.addEventListener("click",()=>{a&&(a.value=""),closeSearch(),t.focus()}),i.addEventListener("keydown",e=>{if("Tab"!==e.key)return;const o=Array.from(i.querySelectorAll('input, button:not([disabled]), [tabindex]:not([tabindex="-1"])')).filter(e=>!e.hasAttribute("hidden")),n=o[0],a=o[o.length-1];e.shiftKey&&document.activeElement===n?(e.preventDefault(),closeSearch(),t.focus()):e.shiftKey||document.activeElement!==a||(e.preventDefault(),closeSearch(),l?.focus())})}),a.ready(function(){if(!document.body.classList.contains("page-template-page-our-history"))return;const e=document.querySelectorAll(".fade-in"),t=document.querySelectorAll('[data-js-el="scroll-target"]'),o=document.getElementById("progress-bar"),n=document.querySelectorAll(".zf-history__popup-marker"),i=document.querySelector('nav[data-js-el="timeline-nav"]'),a=i?i.querySelectorAll("a"):[];a.length&&a.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const o=e.getAttribute("href").substring(1),n=document.getElementById(o);if(n){const e=document.querySelector("header")?.offsetHeight||0,t=n.offsetTop-e;window.scrollTo({top:t,behavior:"smooth"})}})});const s=document.querySelector('a[href="#page"]');if(s&&s.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}),n.length&&n.forEach(e=>{const t=e.querySelector(".zf-history__popup");t&&(e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),t.classList.toggle("is-visible"),t.setAttribute("aria-hidden",t.classList.contains("is-visible")?"false":"true")}),document.addEventListener("click",o=>{!e.contains(o.target)&&t.classList.contains("is-visible")&&(t.classList.remove("is-visible"),t.setAttribute("aria-hidden","true"))}),e.addEventListener("keydown",o=>{"Escape"===o.key&&t.classList.contains("is-visible")&&(t.classList.remove("is-visible"),t.setAttribute("aria-hidden","true"),e.focus())}))}),!e.length||!t.length)return;const l=new IntersectionObserver(e=>{e.forEach(e=>{if(e.target.querySelector(".fade-in")&&e.isIntersecting){e.target.classList.add("is-visible");const t=Math.min(1,Math.max(0,e.intersectionRatio));e.target.style.setProperty("--scroll-progress2",t)}})},{root:null,rootMargin:"0px",threshold:[0,.25,.5,.75,1]});t.forEach(e=>{l.observe(e)});let r=!1;function updateScrollProgress(){r||(window.requestAnimationFrame(()=>{if(o){const e=document.documentElement.scrollHeight-window.innerHeight,t=(window.pageYOffset||document.documentElement.scrollTop)/e*100;o.style.width=`${Math.min(100,Math.max(0,t))}%`}if(a.length){const e=window.pageYOffset+window.innerHeight/2;let t=null;a.forEach(o=>{const n=o.getAttribute("href").substring(1),i=document.getElementById(n);if(i){const n=i.offsetTop,a=n+i.offsetHeight;e>=n&&e<a&&(t=o)}}),a.forEach(e=>{e.classList.remove("is-active")}),t&&t.classList.add("is-active")}t.forEach(e=>{const t=e.getBoundingClientRect();if(!e.querySelector(".fade-in"))return;const o=window.innerHeight,n=t.top,i=t.bottom;if(t.height,n<o&&i>0){let t=0;t=n>=0?Math.min(1,(o-n)/(.5*o)):i<=o?Math.max(0,i/(.5*o)):1,e.style.setProperty("--scroll-progress2",t),t>0&&e.classList.add("is-visible")}}),r=!1}),r=!0)}window.addEventListener("scroll",updateScrollProgress),updateScrollProgress()})}();
