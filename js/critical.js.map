{"version":3,"file":"critical.js","sources":["../src/critical/navigation.js"],"sourcesContent":["/**\n * Navigation.js - Handles navigation menu functionality with accessibility support\n * Fixed version addressing mega menu display issues in Chrome v140 and Edge\n * @version 0.01\n */\n\n(() => {\n    // Global error handler to catch any script errors\n    try {\n        console.log('[Navigation v0.03] Script loaded');\n\n    function initNavigation() {\n\n        // Enhanced touch device detection with override check\n        // Some browsers (Chrome v140+) incorrectly report maxTouchPoints on desktop\n        const hasTouch = \"ontouchstart\" in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;\n        const hasPointerFine = window.matchMedia && window.matchMedia(\"(pointer: fine)\").matches;\n        const isLikelyDesktop = hasPointerFine && screen.width >= 1024;\n        \n        // Prefer hover mode on desktop even if touch is detected\n        const isTouchDevice = hasTouch && !isLikelyDesktop;\n\n        if (isTouchDevice && document.body) {\n            document.body.classList.add(\"touch-device\");\n        }\n\n        const siteNav = document.getElementById(\"site-navigation\");\n\n        if (!siteNav) {\n            return false;\n        }\n\n        // Check if already initialized to prevent duplicate setup\n        if (siteNav.hasAttribute('data-critical-nav-initialized')) {\n            return true;\n        }\n\n        const button = siteNav.querySelector(\"button\");\n        const menu = siteNav.querySelector(\"ul\");\n        const utilityMenu = document.querySelector(\".utility-menu\");\n\n        // Use \"click\" mode on touch devices, \"hover\" otherwise\n        const megaNavMode = isTouchDevice ? \"click\" : \"hover\";\n        const hoverDelay = 200; // ms\n\n        // Early returns for missing elements\n        if (!button || !menu) {\n            if (!menu && button) {\n                button.style.display = \"none\";\n            }\n            return false;\n        }\n\n        menu.classList.add(\"nav-menu\");\n\n        // Store hide timers in a Map for better tracking\n        const hideTimers = new Map();\n\n        // Helper function: get focusable elements within a container\n        const getFocusable = (container) =>\n            Array.from(\n                container.querySelectorAll(\n                    'a, button, input, textarea, select, [tabindex]:not([tabindex=\"-1\"])'\n                )\n            );\n\n        // Helper functions to close mega menus and utility menus\n        const closeMegaMenus = () => {\n            document\n                .querySelectorAll(\".mega-menu.active\")\n                .forEach((el) => el.classList.remove(\"active\"));\n            \n            // Clear any pending hide timers\n            hideTimers.forEach((timer, key) => {\n                if (key.startsWith('mega-')) {\n                    clearTimeout(timer);\n                    hideTimers.delete(key);\n                }\n            });\n            \n            // Use setTimeout to ensure DOM has updated before checking\n            setTimeout(() => {\n                const container = document.querySelector(\".mega-menu-container\");\n                if (container && !container.querySelector(\".mega-menu.active\")) {\n                    container.classList.remove(\"active\");\n                }\n            }, 10);\n            \n            // Reset aria-expanded on links that control mega menus\n            document.querySelectorAll(\"[aria-controls]\").forEach((link) => {\n                const controlId = link.getAttribute(\"aria-controls\");\n                const controlledEl = controlId && document.getElementById(controlId);\n                if (controlledEl && controlledEl.classList.contains(\"mega-menu\")) {\n                    link.setAttribute(\"aria-expanded\", \"false\");\n                }\n            });\n        };\n\n        const closeUtilityMenus = () => {\n            document\n                .querySelectorAll(\".utility-menu .dropdown-active\")\n                .forEach((el) => el.classList.remove(\"dropdown-active\"));\n        };\n\n        // Global closeAll function\n        const closeAll = () => {\n            // Clear all timers\n            hideTimers.forEach((timer) => clearTimeout(timer));\n            hideTimers.clear();\n            \n            document\n                .querySelectorAll(\".dropdown-active, .mega-menu.active\")\n                .forEach((el) => el.classList.remove(\"dropdown-active\", \"active\"));\n            \n            setTimeout(() => {\n                const container = document.querySelector(\".mega-menu-container\");\n                if (container) {\n                    container.classList.remove(\"active\");\n                }\n            }, 10);\n            \n            document\n                .querySelectorAll(\"[aria-controls]\")\n                .forEach((link) => link.setAttribute(\"aria-expanded\", \"false\"));\n        };\n\n        // Keyboard navigation within mega menus\n        const handleMegaKeyNav = (e) => {\n            const megaMenu = e.currentTarget;\n            if (e.key === \"Escape\") {\n                e.preventDefault();\n                megaMenu.classList.remove(\"active\");\n                \n                setTimeout(() => {\n                    const container = document.querySelector(\".mega-menu-container\");\n                    if (container && !container.querySelector(\".mega-menu.active\")) {\n                        container.classList.remove(\"active\");\n                    }\n                }, 10);\n                \n                if (megaMenu._topLink) {\n                    megaMenu._topLink.focus();\n                }\n                megaMenu.removeEventListener(\"keydown\", handleMegaKeyNav);\n            } else if (e.key === \"Tab\") {\n                const focusable = getFocusable(megaMenu);\n                const currentIndex = focusable.indexOf(document.activeElement);\n                if (\n                    (e.shiftKey && currentIndex === 0) ||\n                    (!e.shiftKey && currentIndex === focusable.length - 1)\n                ) {\n                    e.preventDefault();\n                    megaMenu.classList.remove(\"active\");\n                    const topLinks = Array.from(\n                        document.querySelectorAll(\"#menu-primary > li > a\")\n                    );\n                    const index = topLinks.indexOf(megaMenu._topLink);\n                    const targetLink = e.shiftKey\n                        ? index > 0\n                            ? topLinks[index - 1]\n                            : megaMenu._topLink\n                        : index < topLinks.length - 1\n                            ? topLinks[index + 1]\n                            : megaMenu._topLink;\n                    targetLink.focus();\n                    megaMenu.removeEventListener(\"keydown\", handleMegaKeyNav);\n                }\n            }\n        };\n\n        // Set up dropdown/mega menu handlers\n        const setupDropdowns = (menuElement) => {\n            // Attach click event to .dropdown-toggle buttons to toggle submenus.\n            menuElement.querySelectorAll(\".dropdown-toggle\").forEach((toggle) => {\n                toggle.addEventListener(\"click\", (e) => {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    const menuItem = toggle.parentNode;\n                    menuItem.classList.toggle(\"dropdown-active\");\n                });\n            });\n\n            // Process anchor links that have children.\n            menuElement\n                .querySelectorAll(\".menu-item-has-children > a, [aria-controls]\")\n                .forEach((link) => {\n                    const controlId = link.getAttribute(\"aria-controls\");\n                    \n                if (controlId) {\n                    // Mega menu branch\n                    const megaMenu = document.getElementById(controlId);\n                    if (!megaMenu) {\n                        return;\n                    }\n\n                    // Prevent duplicate initialization\n                    if (link.hasAttribute('data-mega-nav-initialized')) {\n                        return;\n                    }\n                    link.setAttribute('data-mega-nav-initialized', 'true');\n\n                    if (megaNavMode === \"hover\") {\n                        // For hover-enabled devices, attach hover and keyboard events.\n                        \n                        const menuItem = link.parentNode;\n                        const timerId = `mega-${controlId}`;\n                        \n                        const clearTimer = () => {\n                            if (hideTimers.has(timerId)) {\n                                clearTimeout(hideTimers.get(timerId));\n                                hideTimers.delete(timerId);\n                            }\n                        };\n\n                        const showMenu = () => {\n                            clearTimer();\n                            \n                            // Close other mega menus first\n                            document.querySelectorAll(\".mega-menu.active\").forEach((el) => {\n                                if (el !== megaMenu) {\n                                    el.classList.remove(\"active\");\n                                    const otherLink = document.querySelector(`[aria-controls=\"${el.id}\"]`);\n                                    if (otherLink) {\n                                        otherLink.setAttribute(\"aria-expanded\", \"false\");\n                                    }\n                                }\n                            });\n                            \n                            closeUtilityMenus();\n                            \n                            megaMenu.classList.add(\"active\");\n                            const container = document.querySelector(\".mega-menu-container\");\n                            if (container) {\n                                container.classList.add(\"active\");\n                            }\n                            link.setAttribute(\"aria-expanded\", \"true\");\n                            megaMenu._topLink = link;\n                            megaMenu.addEventListener(\"keydown\", handleMegaKeyNav);\n                        };\n\n                        const hideMenu = () => {\n                            const timer = setTimeout(() => {\n                                megaMenu.classList.remove(\"active\");\n                                \n                                setTimeout(() => {\n                                    const container = document.querySelector(\".mega-menu-container\");\n                                    if (container && !container.querySelector(\".mega-menu.active\")) {\n                                        container.classList.remove(\"active\");\n                                    }\n                                }, 10);\n                                \n                                link.setAttribute(\"aria-expanded\", \"false\");\n                                megaMenu.removeEventListener(\"keydown\", handleMegaKeyNav);\n                                hideTimers.delete(timerId);\n                            }, hoverDelay);\n                            hideTimers.set(timerId, timer);\n                        };\n\n                        menuItem.addEventListener(\"mouseenter\", showMenu);\n                        menuItem.addEventListener(\"mouseleave\", hideMenu);\n                        megaMenu.addEventListener(\"mouseenter\", clearTimer);\n                        megaMenu.addEventListener(\"mouseleave\", hideMenu);\n\n                        // Allow regular clicks to navigate to the link URL\n                        link.addEventListener(\"click\", (e) => {\n                            // Don't prevent default - let the link navigate\n                            // The hover handlers will manage the mega menu display\n                        });\n\n                        // Keyboard navigation for mega menus.\n                        link.addEventListener(\"keydown\", (e) => {\n                            if (e.key === \"Enter\" || e.key === \" \" || e.key === \"ArrowDown\") {\n                                e.preventDefault();\n                                const isActive = megaMenu.classList.contains(\"active\");\n                                if (isActive) {\n                                    if (e.key === \"ArrowDown\") {\n                                        const firstFocusable = getFocusable(megaMenu)[0];\n                                        if (firstFocusable) {\n                                            firstFocusable.focus();\n                                        }\n                                        return;\n                                    }\n                                    megaMenu.classList.remove(\"active\");\n                                    \n                                    setTimeout(() => {\n                                        const container = document.querySelector(\".mega-menu-container\");\n                                        if (container && !container.querySelector(\".mega-menu.active\")) {\n                                            container.classList.remove(\"active\");\n                                        }\n                                    }, 10);\n                                    \n                                    link.setAttribute(\"aria-expanded\", \"false\");\n                                    megaMenu.removeEventListener(\"keydown\", handleMegaKeyNav);\n                                } else {\n                                    closeMegaMenus();\n                                    closeUtilityMenus();\n                                    megaMenu.classList.add(\"active\");\n                                    const container = document.querySelector(\".mega-menu-container\");\n                                    if (container) {\n                                        container.classList.add(\"active\");\n                                    }\n                                    link.setAttribute(\"aria-expanded\", \"true\");\n                                    megaMenu._topLink = link;\n                                    const heading = megaMenu.querySelector(\".mega-menu-intro > h2\");\n                                    if (heading) {\n                                        heading.setAttribute(\"tabindex\", \"-1\");\n                                        setTimeout(() => heading.focus(), 200);\n                                    }\n                                    megaMenu.addEventListener(\"keydown\", handleMegaKeyNav);\n                                }\n                            } else if (e.key === \"Escape\") {\n                                closeAll();\n                                link.focus();\n                            }\n                        });\n                    } else {\n                        // For touch devices in click mode, do not attach a click handler to the link,\n                        // so clicking the link will perform its default navigation.\n                        link.addEventListener(\"keydown\", (e) => {\n                            if (e.key === \"Enter\" || e.key === \" \" || e.key === \"ArrowDown\") {\n                                // Optional keyboard toggling behavior can be added here if desired.\n                            } else if (e.key === \"Escape\") {\n                                closeAll();\n                                link.focus();\n                            }\n                        });\n                    }\n                } else {\n                    // Regular dropdown (typically utility menus).\n                    // For utility menu items: behavior depends on device type\n                    const isUtilityMenu = link.closest('.utility-menu');\n                    const hasDropdownToggle = link.parentNode.querySelector('.dropdown-toggle');\n                    \n                    // On touch devices or when there's no dropdown toggle, prevent navigation and toggle submenu\n                    // On desktop with dropdown toggle, allow natural navigation\n                    if (isUtilityMenu && !hasDropdownToggle) {\n                        // Utility menu items without dropdown toggle (like Knowledge Hub)\n                        // Need different behavior for touch vs non-touch\n                        if (isTouchDevice) {\n                            // On mobile/touch: click should toggle submenu\n                            link.addEventListener(\"click\", (e) => {\n                                const submenu = link.parentNode.querySelector('ul');\n                                if (submenu) {\n                                    e.preventDefault();\n                                    const menuItem = link.parentNode;\n                                    menuItem.classList.toggle(\"dropdown-active\");\n                                }\n                            });\n                        }\n                        // On desktop: clicks navigate naturally (no preventDefault)\n                    }\n                    link.addEventListener(\"keydown\", (e) => {\n                        if (e.key === \"Enter\" || e.key === \" \" || e.key === \"ArrowDown\") {\n                            e.preventDefault();\n                            const menuItem = link.parentNode;\n                            menuItem.classList.toggle(\"dropdown-active\");\n                            if (\n                                e.key === \"ArrowDown\" &&\n                                menuItem.classList.contains(\"dropdown-active\")\n                            ) {\n                                const submenu = menuItem.querySelector(\"ul\");\n                                if (submenu) {\n                                    const firstLink = submenu.querySelector(\"a\");\n                                    if (firstLink) {\n                                        firstLink.focus();\n                                    }\n                                }\n                            }\n                        } else if (e.key === \"Escape\") {\n                            closeAll();\n                            link.focus();\n                        }\n                    });\n                }\n            });\n        };\n\n        // Set up event listeners for main navigation and utility menu\n        button.addEventListener(\"click\", () => {\n            siteNav.classList.toggle(\"toggled\");\n            const isExpanded = button.getAttribute(\"aria-expanded\") === \"true\";\n            button.setAttribute(\"aria-expanded\", (!isExpanded).toString());\n            \n            // Toggle no-scroll class on body for mobile menu scrolling\n            if (siteNav.classList.contains(\"toggled\")) {\n                document.body.classList.add(\"no-scroll\");\n            } else {\n                document.body.classList.remove(\"no-scroll\");\n            }\n        });\n\n        setupDropdowns(siteNav);\n        if (utilityMenu) {\n            setupDropdowns(utilityMenu);\n        }\n\n        // On mobile/touch devices, make menu-labels clickable to toggle their submenus\n        if (isTouchDevice) {\n            document.querySelectorAll('.menu-label').forEach((label) => {\n                const menuItem = label.parentNode;\n                const dropdownToggle = menuItem.querySelector('.dropdown-toggle');\n                if (dropdownToggle) {\n                    label.style.cursor = 'pointer';\n                    label.addEventListener('click', (e) => {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        // Trigger the dropdown toggle button\n                        dropdownToggle.click();\n                    });\n                }\n            });\n        }\n\n        // Close menus when clicking outside\n        document.addEventListener(\"click\", (e) => {\n            if (\n                !siteNav.contains(e.target) &&\n                !(utilityMenu && utilityMenu.contains(e.target))\n            ) {\n                closeAll();\n                siteNav.classList.remove(\"toggled\");\n                button.setAttribute(\"aria-expanded\", \"false\");\n                document.body.classList.remove(\"no-scroll\");\n            }\n        });\n\n        // Handle keyboard for standard links without aria-controls\n        document.querySelectorAll(\".menu-item-has-children > a\").forEach((link) => {\n            if (!link.getAttribute(\"aria-controls\")) {\n                // Check if this has a dropdown toggle button (mobile menu) - if so, don't interfere\n                const hasDropdownToggle = link.parentNode.querySelector('.dropdown-toggle');\n                if (!hasDropdownToggle) {\n                    link.addEventListener(\"keydown\", (e) => {\n                        const menuItem = link.parentNode;\n                        if (\n                            (e.key === \"Enter\" || e.key === \" \" || e.key === \"ArrowDown\") &&\n                            (menuItem.classList.contains(\"menu-item-has-children\") ||\n                                menuItem.querySelector(\"ul\"))\n                        ) {\n                            e.preventDefault();\n                            menuItem.classList.toggle(\"dropdown-active\");\n                            if (\n                                e.key === \"ArrowDown\" &&\n                                menuItem.classList.contains(\"dropdown-active\")\n                            ) {\n                                const submenu = menuItem.querySelector(\"ul\");\n                                if (submenu) {\n                                    const firstLink = submenu.querySelector(\"a\");\n                                    if (firstLink) {\n                                        firstLink.focus();\n                                    }\n                                }\n                            }\n                        } else if (e.key === \"Escape\") {\n                            closeAll();\n                            link.focus();\n                        }\n                    });\n                }\n            }\n        });\n        \n        // Mark navigation as initialized to prevent duplicate setup\n        siteNav.setAttribute('data-critical-nav-initialized', 'true');\n\n        return true;\n    }\n\n    // Try immediately, then use polling fallback for critical loading\n    if (!initNavigation()) {\n        let attempts = 0;\n        const maxAttempts = 50; // 5 seconds max\n\n        const pollForNav = setInterval(function() {\n            attempts++;\n\n            if (initNavigation() || attempts >= maxAttempts) {\n                clearInterval(pollForNav);\n            }\n        }, 100); // Every 100ms\n    }\n\n    } catch (error) {\n        console.error('[Navigation] ✗ FATAL ERROR:', error);\n        console.error('[Navigation] Error details:', error.message, error.stack);\n    }\n})();"],"names":["console","log","initNavigation","hasTouch","window","navigator","maxTouchPoints","msMaxTouchPoints","hasPointerFine","matchMedia","matches","isLikelyDesktop","screen","width","isTouchDevice","document","body","classList","add","siteNav","getElementById","hasAttribute","button","querySelector","menu","utilityMenu","megaNavMode","hoverDelay","style","display","hideTimers","Map","getFocusable","container","Array","from","querySelectorAll","closeMegaMenus","forEach","el","remove","timer","key","startsWith","clearTimeout","delete","setTimeout","link","controlId","getAttribute","controlledEl","contains","setAttribute","closeUtilityMenus","closeAll","clear","handleMegaKeyNav","e","megaMenu","currentTarget","preventDefault","_topLink","focus","removeEventListener","focusable","currentIndex","indexOf","activeElement","shiftKey","length","topLinks","index","targetLink","setupDropdowns","menuElement","toggle","addEventListener","stopPropagation","menuItem","parentNode","timerId","clearTimer","has","get","showMenu","otherLink","id","hideMenu","set","isActive","firstFocusable","heading","isUtilityMenu","closest","hasDropdownToggle","submenu","firstLink","isExpanded","toString","label","dropdownToggle","cursor","click","target","attempts","maxAttempts","pollForNav","setInterval","clearInterval","error","message","stack"],"mappings":"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"}